// Generated by delombok at Thu Jul 04 12:27:09 CEST 2024
package no.nav.melosys.eessi.integration.pdl;

import no.nav.melosys.eessi.integration.RestConsumer;
import no.nav.melosys.eessi.integration.pdl.web.identrekvisisjon.dto.IdentRekvisisjonTilMellomlagring;
import org.springframework.web.reactive.function.client.WebClient;

public class PdlWebConsumer implements RestConsumer {
    @java.lang.SuppressWarnings("all")
    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(PdlWebConsumer.class);
    private final WebClient webClient;

    public PdlWebConsumer(WebClient webClient) {
        this.webClient = webClient;
    }

    public String opprettLenkeForRekvirering(IdentRekvisisjonTilMellomlagring identRekvisisjonTilMellomlagring) {
        return webClient.post().uri("/api/identrekvisisjon/mellomlagring").bodyValue(identRekvisisjonTilMellomlagring).retrieve().toEntity(String.class).mapNotNull(response -> response.getHeaders().getFirst("Location")).block();
    }
}
